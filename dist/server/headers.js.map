{"version":3,"sources":["../../src/server/headers.js"],"names":[],"mappings":";;;;;;kBAEe,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;;AAEvC,MAAI,IAAI,OAAJ,CAAY,MAAhB,EAAwB;AACtB,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,iBAAO,OAAP,CAAe,MAAnC,EAA2C,GAA3C,EAAgD;AAC9C,UAAM,SAAS,iBAAO,OAAP,CAAe,CAAf,CAAf;AACA,UAAI,IAAI,OAAJ,CAAY,MAAZ,CAAmB,OAAnB,CAA2B,MAA3B,IAAqC,CAAC,CAA1C,EAA6C;AAC3C,YAAI,SAAJ,CAAc,6BAAd,EAA6C,IAAI,OAAJ,CAAY,MAAzD;AACA;AACD;AACF;AACF;AACD,MAAI,SAAJ,CAAc,8BAAd,EAA8C,wCAA9C;AACA,MAAI,SAAJ,CAAc,8BAAd,EAA8C,+BAA9C;AACA,MAAI,SAAJ,CAAc,kCAAd,EAAkD,IAAlD;;AAEA;AACD,C;;AAlBA","file":"headers.js","sourcesContent":["ï»¿import config from './server.config';\r\n\r\nexport default function (req, res, next) {\r\n  // cors allow\r\n  if (req.headers.origin) {\r\n    for (let i = 0; i < config.origins.length; i++) {\r\n      const origin = config.origins[i];\r\n      if (req.headers.origin.indexOf(origin) > -1) {\r\n        res.setHeader('Access-Control-Allow-Origin', req.headers.origin);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\r\n  res.setHeader('Access-Control-Allow-Headers', 'X-Requested-With,content-type');\r\n  res.setHeader('Access-Control-Allow-Credentials', true);\r\n  // Pass to next layer of middleware\r\n  next();\r\n}\r\n"]}